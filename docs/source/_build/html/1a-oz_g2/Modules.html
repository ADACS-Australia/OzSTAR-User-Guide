

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Environment Modules &mdash; OzSTAR User Guide  documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="OzSTAR User Guide  documentation" href="../index.html"/>
        <link rel="next" title="Torque-Moab vs Slurm" href="torque-vs-slurm.html"/>
        <link rel="prev" title="File systems" href="Filesystems.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

      
        <!-- a href="../index.html" -->
        <a href="http://136.186.1.220"><!-- target="_blank"-->
      

      
        
        <img src="../_static/OzStar-FA-Mono-KEYLINE.png" class="logo" />
      
      </a>

      

      
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

      
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../1-getting_started/Accounts.html">Accounts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../1-getting_started/Access.html">Access the supercomputer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../1-getting_started/file-transfer.html">File Transfer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../1-getting_started/Profiling.html">Profiling your code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../1-getting_started/Swinburne-HPC.html">Swinburne HPC system</a></li>
<li class="toctree-l1"><a class="reference internal" href="../1-getting_started/FAQ.html">FAQ</a></li>
</ul>
<p class="caption"><span class="caption-text">OzSTAR vs Green II</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="what-s-new.html">What’s new on OzSTAR?</a></li>
<li class="toctree-l1"><a class="reference internal" href="Filesystems.html">File systems</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Environment Modules</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#ozstar-vs-green-ii">OzSTAR vs Green II</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="torque-vs-slurm.html">Torque-Moab vs Slurm</a></li>
</ul>
<p class="caption"><span class="caption-text">Jobs on OzSTAR</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../2-ozstar/oz-partition.html">Job Queues on OzSTAR</a></li>
<li class="toctree-l1"><a class="reference internal" href="../2-ozstar/oz-slurm-basics.html">Slurm: basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../2-ozstar/oz-slurm-details.html">Slurm: gathering information</a></li>
<li class="toctree-l1"><a class="reference internal" href="../2-ozstar/oz-slurm-create.html">Slurm: Creating a job</a></li>
<li class="toctree-l1"><a class="reference internal" href="../2-ozstar/oz-slurm-examples.html">Slurm: script examples</a></li>
</ul>
<p class="caption"><span class="caption-text">Jobs on Green II</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../3-greenII/g2-Queue.html">Job Queues on Green II</a></li>
<li class="toctree-l1"><a class="reference internal" href="../3-greenII/g2-qsub.html">Submitting Jobs on Green II (qsub)</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">OzSTAR User Guide</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Environment Modules</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="environment-modules">
<h1>Environment Modules<a class="headerlink" href="#environment-modules" title="Permalink to this headline">¶</a></h1>
<p><a class="reference external" href="http://modules.sourceforge.net/">Environment modules</a> allow for dynamically modifying ones shell environment to provide access to required packages. Managing your environment manually can be cumbersome, using modules is highly recommended and is standard practice on gStar.</p>
<p>The structure of a module command is:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span>module &lt;command&gt; [arguments]
</pre></div>
</div>
<p>There are many available commands, to see a list simply run:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span>module
</pre></div>
</div>
<p>To get you started, you will first need to be able to see which software packages are available. To do so, run:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span>module avail
</pre></div>
</div>
<p>This will display a list of all installed software packages. To load a package, preparing your environment for its use, run:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span>module load &lt;package name&gt;
</pre></div>
</div>
<p>For example, if I wanted to use a 64bit version of OpenMPI compiled with the GNU tool chain, I could use:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span>module load openmpi/x86_64/gnu/1.4.4
</pre></div>
</div>
<p>You’ll notice that, after running “module avail”, some of the package names have “(default)” written next to them. This indicates that you don’t need to type the whole name to enable that package. Using the previous OpenMPI example, I could achieve the same results by running:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span>module load openmpi
</pre></div>
</div>
<div class="section" id="ozstar-vs-green-ii">
<h2>OzSTAR vs Green II<a class="headerlink" href="#ozstar-vs-green-ii" title="Permalink to this headline">¶</a></h2>
<p>There exists slight differences between how modules are handled on OzSTAR and Green II.</p>
<p><strong>OzSTAR</strong> now includes groups of modules organised around a specific compiler (namely, intel and gcc). Each group provides
modules compiled using one of these compiler. These are accessed via the following commands.</p>
<p>For modules compiled with the intel compiler:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span>module load intel
</pre></div>
</div>
<p>Then, if you run a <code class="docutils literal notranslate"><span class="pre">module</span> <span class="pre">avail</span></code>, you should see at the beginning of the list of modules available specific to intel:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span>module avail

--------------------------------------------------- /apps/skylake/modulefiles/all/mpi/intel/2018.1.163-gcc-6.4.0/openmpi/3.0.0 ----------------------------------------------------
   boost/1.66.0    hdf5/1.8.19    hdf5/1.10.1 (D)    imkl/2018.1.163 (L)    netcdf/4.5.0

-------------------------------------------------------- /apps/skylake/modulefiles/all/compiler/intel/2018.1.163-gcc-6.4.0 --------------------------------------------------------
   openmpi/3.0.0 (L)

(...)
</pre></div>
</div>
<p>Similarly, for GCC, you can run the following:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span>module load gcc
</pre></div>
</div>
<p>And <code class="docutils literal notranslate"><span class="pre">module</span> <span class="pre">avail</span></code> should display something like the following:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span> ---------------------------------------------------------------- /apps/skylake/modulefiles/all/compiler/gcc/6.4.0 -----------------------------------------------------------------
    cfitsio/3.420    clang/5.0.1    framel/8.30    gsl/2.4    llvm/5.0.1    openblas/0.2.20    openmpi/3.0.0    qt/4.8.7    sqlite/3.21.0

(...)
</pre></div>
</div>
<p>Please note the following useful commands: <code class="docutils literal notranslate"><span class="pre">module</span> <span class="pre">purge</span></code> will allow you to unload all modules currently loaded. It is
also possible to switch between <code class="docutils literal notranslate"><span class="pre">gcc</span></code> and <code class="docutils literal notranslate"><span class="pre">intel</span></code> by typing:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span>module swap gcc intel
</pre></div>
</div>
<p>which is equivalent to typing:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span>module unload gcc
module load intel
</pre></div>
</div>
<p>Another way to search for modules is with the <code class="docutils literal notranslate"><span class="pre">module</span> <span class="pre">spider</span></code> command. This command searches the entire list of possible modules.</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span>module spider
</pre></div>
</div>
<p>This can be practical if you are looking for a specific module. Consider the following example of commands:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span> $ module purge

 $ module python
 Lmod has detected the following error:  These module(s) exist but cannot be loaded as requested: &quot;python&quot;
Try: &quot;module spider python&quot; to see how to load the module(s).
</pre></div>
</div>
<p>You can therefore look for more information to load the module correctly:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span>$ module spider python

<span class="gh">------------------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span class="gh">  python: python/2.7.14</span>
<span class="gh">------------------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
Description:
  Python is a programming language that lets you work more quickly and integrate your systems more effectively.


 Other possible modules matches:
    ipython, protobuf-python

You will need to load all module(s) on any one of the lines below before the &quot;python/2.7.14&quot; module is available to load.

  gcc/6.4.0  openmpi/3.0.0

Help:

  Description
  ===========
  Python is a programming language that lets you work more quickly and integrate your systems
   more effectively.
</pre></div>
</div>
<p>And now, we know how to load the module!</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span>$ module load gcc/6.4.0  openmpi/3.0.0 python/2.7.14

$ module list

Currently Loaded Modules:
  1) nvidia/384.90 (S)   3) binutils/2.30   5) gcc/6.4.0   7) openmpi/3.0.0     9) fftw/3.3.7                       11) sqlite/3.21.0
  <span class="m">2)</span> slurm/17.11.2 (S)   4) gcccore/6.4.0   6) ucx/1.2.1   8) openblas/0.2.20  10) scalapack/2.0.2-openblas-0.2.20  12) python/2.7.14

  Where:
   S:  Module is Sticky, requires --force to unload or purge
</pre></div>
</div>
<p>On <strong>Green II</strong>, <code class="docutils literal notranslate"><span class="pre">module</span> <span class="pre">avail</span></code> will provide a list of all versions of available modules:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span>% module avail

------------------------------------------------------------------------ /usr/local/modules/modulefiles ------------------------------------------------------------------------
2dfdr/x86_64/5.35                                gromacs/x86_64/gnu/4.6.3-cpu                     openmpi/x86_64/gnu/1.10.2-psm
2dfdr/x86_64/6.28                                gromacs/x86_64/gnu/5.0.5                         openmpi/x86_64/gnu/1.4.4
adf/2013.01                                      gsl/x86_64/gnu/1.13-1                            openmpi/x86_64/gnu/1.4.5
adf/2016.107                                     gsl/x86_64/gnu/1.15                              openmpi/x86_64/gnu/1.6
(...)
google-protocol-buffer/2.5                       opencv/x86_64/gnu/3.3.0                          xz/x86_64/5.2.2
grace/x86_64/gnu/5.1.23                          OpenFOAM/x86_64/gnu/2.2.2                        yorick/x86_64/gnu/2.1
gromacs/x86_64/gnu/4.6.1                         OpenFOAM/x86_64/gnu/2.4.0                        yorick/x86_64/gnu/2.1.06
gromacs/x86_64/gnu/4.6.3                         OpenFOAM/x86_64/gnu/4.1.0
</pre></div>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="torque-vs-slurm.html" class="btn btn-neutral float-right" title="Torque-Moab vs Slurm" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="Filesystems.html" class="btn btn-neutral" title="File systems" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
    
      <style>
        /* Sidebar header (and topbar for mobile) */
        .wy-side-nav-search, .wy-nav-top {
          background: #000000;
        }
        /* Sidebar */
        /*.wy-nav-side {*/
          /*background: #ff0000;*/
        /*}*/
      </style>
    

</body>
</html>